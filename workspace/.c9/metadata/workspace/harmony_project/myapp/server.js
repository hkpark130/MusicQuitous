{"filter":false,"title":"server.js","tooltip":"/harmony_project/myapp/server.js","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":56,"column":70},"action":"insert","lines":["var http = require('http')","  , fs = require('fs')","  , path = require('path')","  , io = require('socket.io');"," ","var server = http.createServer(function(req, res) {","  var filename = path.join(process.cwd(), req.url);"," ","  path.exists(filename, function(exists) {","    if(!exists) {","      res.writeHead(404, {\"Content-Type\": \"text/plain\"});","      res.write(\"404 Not Found\\n\");","      res.end();","      return;","    }"," ","    fs.readFile('./index.html', encoding='utf-8', function(err, data) {","      if (err) {","        res.writeHead(500, {\"Content-Type\": \"text/plain\"});  ","        res.write(err + \"\\n\");  ","        res.end();  ","        return;  ","      } ","      res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"}); ","      res.end(data);","    }); ","  }); ","});"," ","server.listen(process.env.PORT);"," ","io = io.listen(server);"," ","io.configure(function(){","  io.enable('browser client etag');","  io.set('log level', 3);","  io.set('transports', [","    'websocket'","    , 'flashsocket'","    , 'htmlfile'","    , 'xhr-polling'","    , 'jsonp-polling'","    ]);"," ","});"," ","io.sockets.on('connection', function(socket) ","{","   console.log('connected');","   socket.on('con',function(data){","         console.log(data.text);","         socket.broadcast.emit('response',{text: data.text});                                          ","                                                   });","});","console.log('서버가 시작되었습니다. http://localhost:%s',process.env.PORT);"," ","[출처] Node.js를 Cloud9에서 구현하기 (socket.io를 통한 채팅 프로그램 적용)|작성자 ruleoutlife"],"id":1}],[{"start":{"row":55,"column":0},"end":{"row":56,"column":70},"action":"remove","lines":[" ","[출처] Node.js를 Cloud9에서 구현하기 (socket.io를 통한 채팅 프로그램 적용)|작성자 ruleoutlife"],"id":2}],[{"start":{"row":54,"column":65},"end":{"row":55,"column":0},"action":"remove","lines":["",""],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":42},"end":{"row":10,"column":42},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1501676076750,"hash":"af92435533f6588c70de9556cfa5950d69273dfe"}